<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Hoofdstuk 4 Exploratieve Data Analyse (EDA) | Excel Data Analyse</title>
<meta name="author" content="Ben Welman">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.9/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><meta name="description" content="Cursus data analyse met Excel">
<meta name="keywords" content="tutorial, cursus, studieboek, excel, data analyse, gegevensanalyse, statistiek, tijdreeksen, voorspellingen, prognoses, ETS">
<meta name="robots" content="index,follow">
<meta name="twitter:title" content="Cursus data analyse met Excel">
<meta name="twitter:description" content="Cursus data analyse met Excel">
<meta name="twitter:url" content="https://excelanalyse.netlify.app/">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@benwem">
<meta name="twitter:site" content="@benwem">
<meta property="og:title" content="Cursus data analyse met Excel">
<meta property="og:description" content="Cursus data analyse met Excel">
<meta property="og:url" content="https://excelanalyse.netlify.app/">
<meta property="og:type" content="book">
<meta property="og:locale" content="nl_NL">
<meta property="article:author" content="Ben Welman">
<script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet">
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-1284000-9', 'auto');
      ga('send', 'pageview');

    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/textbook.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Excel Data Analyse</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welkom</a></li>
<li><a class="" href="voorwoord.html">Voorwoord</a></li>
<li><a class="" href="importdata.html"><span class="header-section-number">1</span> Importeren van data</a></li>
<li><a class="" href="data.html"><span class="header-section-number">2</span> Data</a></li>
<li><a class="" href="beschrijvend.html"><span class="header-section-number">3</span> Beschrijvende statistiek</a></li>
<li><a class="active" href="eda.html"><span class="header-section-number">4</span> Exploratieve Data Analyse (EDA)</a></li>
<li><a class="" href="linregressie.html"><span class="header-section-number">5</span> Samenhang en lineaire regressie</a></li>
<li><a class="" href="timeseries.html"><span class="header-section-number">6</span> Tijdreeksen</a></li>
<li><a class="" href="prognoses.html"><span class="header-section-number">7</span> Prognoses</a></li>
<li><a class="" href="cases.html"><span class="header-section-number">8</span> Cases</a></li>
<li class="book-part">Bijlagen</li>
<li><a class="" href="app-toolpak.html"><span class="header-section-number">A</span> Addin Gegevensanalyse</a></li>
<li><a class="" href="app-query-options.html"><span class="header-section-number">B</span> Power Query opties</a></li>
<li><a class="" href="app-excel-trendlijnen.html"><span class="header-section-number">C</span> Excel Trendlijnen</a></li>
<li><a class="" href="app-voorspellingenblad.html"><span class="header-section-number">D</span> Voorspellingenblad</a></li>
<li><a class="" href="app-aselect.html"><span class="header-section-number">E</span> Aselecte getallen</a></li>
<li><a class="" href="referenties.html">Referenties</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="eda" class="section level1" number="4">
<h1>
<span class="header-section-number">Hoofdstuk 4</span> Exploratieve Data Analyse (EDA)<a class="anchor" aria-label="anchor" href="#eda"><i class="fas fa-link"></i></a>
</h1>
<div class="chapterintro">
<p>Exploratieve Data Analyse (EDA) is vaak de eerste stap naar het visualiseren en transformeren van de gegevens. Je leert de gegevens kennen, vaak resulterend in een eerste aanzet tot modelvorming.</p>
</div>
<div id="introductie" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Introductie<a class="anchor" aria-label="anchor" href="#introductie"><i class="fas fa-link"></i></a>
</h2>
<p>Van EDA wordt wel eens gezegd dat het een zich herhalende cyclus is van</p>
<ol style="list-style-type: decimal">
<li>het genereren van vragen over de data.</li>
<li>het zoeken naar antwoorden door de gegevens te visualiseren, transformeren en modelleren.</li>
<li>uit het geleerde de vragen te verfijnen of nieuwe vragen te genereren.</li>
</ol>
<p>Het doorlopen van deze cyclus is geen formeel proces met strakke regels. Zie het meer als een creatief proces om elk opkomend idee te onderzoeken. Sommige ideeën zullen op een dood spoor eindigen, andere zullen tot een vervolg leiden.</p>
<p>Bij EDA gaat het om</p>
<ul>
<li>Het verkrijgen van zoveel mogelijk inzicht in de dataset.</li>
<li>Het herkennen van de belangrijkste variabelen.</li>
<li>Het herkennen van eventuele uitschieters, onregelmatigheden en fouten.</li>
<li>Het herkennen van patronen in de data, zoals trends, seizoensinvloeden, groeperingen (clusters) en afwijkingen hierop.</li>
<li>Het onderzoeken naar een mogelijk verband tussen variabelen.</li>
<li>Het testen van aannames die zijn gedaan over het voorspellende en/of verklarende vermogen van de data.</li>
<li>Het spaarzaam ontwikkelen van modellen en het testen van onderliggende aannames hierbij.</li>
</ul>
<p>Een eerste stap is meestal de beschrijvende statistiek, waarbij je de belangrijkste statistische kenmerken van de variabelen vastlegt. Daarna stap je al snel over op visualisaties en grafieken. Deze zijn meestal gemakkelijker te interpreteren en vereisen geen geavanceerde statistische kennis. Door de gegevens te visualiseren worden verwachte of juist onverwachte eigenschappen intuïtief zichtbaar.</p>
<p>Tijdens de verkenningen ga je snel diverse grafieken maken om jouw ideeën te onderzoeken. In deze beginfase zijn deze grafieken (nog) niet voor publicatie bedoeld, waardoor je aan de opmaak nauwelijks aandacht hoeft te besteden. Het gaat er in eerste instantie om dat je de data leert begrijpen. Wanneer een grafiek in een latere rapportage wordt opgenomen is de opmaak natuurlijk wel van belang, dan moeten anderen jouw grafiek kunnen interpreteren.</p>
</div>
<div id="anscombe-dataset" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Anscombe dataset<a class="anchor" aria-label="anchor" href="#anscombe-dataset"><i class="fas fa-link"></i></a>
</h2>
<p>Dat je voor het inzicht krijgen in een gegevensverzameling niet alleen maar af kunt gaan op een aantal statistische parameters, maar ook altijd een grafiek moet bekijken, wordt fraai gedemonstreerd met de dataset van Anscombe. Deze klassieke dataset bestaat uit vier eenvoudige gekunstelde verzamelingen van 11 paren x- en y-waarden. Hierbij zijn de gemiddelden en de variantie van respectievelijk de vier x en y variabelen gelijk en zijn ook de onderlinge correlaties voor de vier paren x en y variabelen gelijk zijn. In figuur <a href="eda.html#fig:anscombe">4.1</a> is te zien dat de spreidingsdiagrammen voor de vier verschillende paren x en y variabelen compleet verschillend zijn.</p>
<div class="figure" style="text-align: center">
<span id="fig:anscombe"></span>
<img src="images/eda/anscombe.png" alt="Spreidingsdiagrammen voor de vier datasets van Anscombe." width="100%"><p class="caption">
Figuur 4.1: Spreidingsdiagrammen voor de vier datasets van Anscombe.
</p>
</div>
<p>Conclusies uit de spreidingsdiagrammen:</p>
<ul>
<li>Anscombe-1 is duidelijk lineair met enige spreiding.</li>
<li>Anscombe-2 is duidelijk kwadratisch, heeft iets van een bergparabool.</li>
<li>Anscombe-3 heeft een duidelijke uitschieter.</li>
<li>Anscombe-4 heeft één enkel punt ver verwijderd van de rest van de data die dicht bij elkaar ligt.</li>
</ul>
<p>Wanneer je zelf hiermee wilt experimenteren dan kun je de dataset <a href="data/anscombe.xlsx">anscombe.xlsx</a> met de bijbehorende grafieken downloaden.</p>
</div>
<div id="werkwijze" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Werkwijze<a class="anchor" aria-label="anchor" href="#werkwijze"><i class="fas fa-link"></i></a>
</h2>
<p>De beste manier om de dataset te leren begrijpen is door vragen op te stellen. Door het formuleren van een vraag wordt jouw aandacht gevestigd op een specifiek gedeelte van de dataset. Dit helpt je om te beslissen welke grafieken of samenvattingen je moet maken en of daarvoor bewerkingen van de dataset nodig zijn.</p>
<p>In het begin van het onderzoek is het lastig om kwalitatief goede vragen op te stellen, je kent immers de dataset nog niet. Stel daarom veel vragen op. Je hebt dan de meeste kans dat je wat interessants vindt, wat tot nieuwere of scherper geformuleerde vragen leidt.</p>
<p>Een aantal handige vragen die je bijna altijd kunt gebruiken zijn:</p>
<ol style="list-style-type: decimal">
<li>Welke variabelen heeft de dataset? Zijn ze numeriek (discreet / continu) of categoriaal? wat is de schaling? Welke waarden kunnen deze variabelen aannemen?</li>
<li>Welke variatie komt er voor in de variabelen? Dus hoe gedragen zich de waarden van een variabele.</li>
<li>Welke covariatie komt er voor tussen variabelen? Dus hoe gedragen zich de waarden tussen variabelen.</li>
<li>Is er een verband te ontdekken tussen variabelen?</li>
</ol>
</div>
<div id="keuze-hulpmiddelen" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Keuze hulpmiddelen<a class="anchor" aria-label="anchor" href="#keuze-hulpmiddelen"><i class="fas fa-link"></i></a>
</h2>
<p>Op welke manier je data kunt samenvatten en welke grafiek het meest geschikt is voor visualisatie hangt vooral van de soort variabele(n) en de vraag af. Het volgende schema kan je hierbij een handje helpen.</p>
<div class="figure" style="text-align: center">
<span id="fig:diagramselectie"></span>
<div id="htmlwidget-f50f63c007c2286b17b9" style="width:100%;height:355.968px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-f50f63c007c2286b17b9">{"x":{"diagram":"\n    digraph desc {\n      # graph opdracht\n      graph [rankdir = LR, bgcolor=transparent]\n\n      # node opdrachten\n      node[fontname = Sans, shape = cds, style = filled, fillcolor = Khaki, width = 1.5]\n      T [label = \"Type variabele\"]\n      node[fontname = Sans, shape = ellipse, style = filled, fillcolor = Beige, width = 2.0]\n      C1 [label = \"1 categorie\n variabele\"]\n      C2 [label = \"2 categorie\nvariabelen\"]\n      N1 [label = \"1 numerieke\nvariabele\"]\n      N2 [label = \"2 numerieke\nvariabelen\"]\n      CN [label = \"1 cat & 1 num\nvariabele\"]\n      node[fontname = Sans, shape = box, style = filled, fillcolor = Azure, width = 2.7]\n      C1R [label = \"Frequentietabel\nCirkeldiagram\nKolomdiagram\"]\n      C2R [label = \"Kruistabel\nKolomdiagram (gegroepeerd)\"]\n      N1R [label = \"Statistieken\nHistogram\nBoxplot\"]\n      N2R [label = \"Spreidingsdiagram\nLijndiagram\"]\n      CNR [label = \"Boxplot (gegroepeerd)\"]\n      # edge opdrachten\n      T -> {C1, N1,C2,CN,N2}\n      C1 -> C1R\n      C2 -> C2R\n      N1 -> N1R\n      N2 -> N2R\n      CN -> CNR\n    }\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><p class="caption">
Figuur 4.2: Schema voor selectie samenvatting en visualisatie. In plaats van een kolomdiagram (verticaal) kun je ook een staafdiagram (horizontaal) nemen.
</p>
</div>
<p>Deze worden hierna met voorbeelden uitgewerkt.</p>
<div id="eén-categorie-variabele" class="section level3" number="4.4.1">
<h3>
<span class="header-section-number">4.4.1</span> Eén categorie variabele<a class="anchor" aria-label="anchor" href="#e%C3%A9n-categorie-variabele"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Oplossingen</strong></p>
<ul>
<li>
<em>Frequentietabellen</em> - Je kunt absolute of relatieve frequenties gebruiken. Deze laatste wordt iets meer gebruikt omdat je hiermee kunt vergelijken hoe vaak waarden voorkomen in verhouding tot het totale aantal.</li>
<li>
<em>Cirkeldiagrammen</em> - Deze vertegenwoordigen relatieve frequenties doordat ze aangeven welk deel van de gehele cirkel bij een categorie hoort. Een cirkeldiagram wordt moeilijk leesbaar wanneer je veel categorieën hebt.</li>
<li>
<em>Kolomdiagrammen</em> - Hiermee kun je zowel absolute als relatieve frequenties weergeven. Bij een groot aantal categorieën kun je beter het horizontale staafdigram gebruiken.</li>
</ul>
<div class="workedexample">
<p>Bij een onderzoek naar rookgedrag is ook de leeftijd van de rokers verzameld. Deze leeftijden staan in het bestand <a href="data/rokers.xlsx">rokers.xlsx</a>. Een onderzoeksvraag is of het percentage rokers sterk verschilt per leeftijdscategorie. De leeftijdscategorieën waarin de onderzoeker in eerste instantie geïnteresseerd is zijn: t/m 15 jaar, 16-25 jaar, 25-45 jaar, 46-65 jaar, ouder dan 65 jaar.</p>
<p>Er moet dus een nieuwe variabele <code>leeftijdsgroep</code> komen met 5 categoriën en je moet dan de aantallen van <code>leeftijd</code> in elke categorie tellen. Omdat de klassebreedte niet overal hetzelfde is kun je geen frequentieverdeling met een draaitabel maken. Bij het werken met de functie <code>INTERVAL()</code> kun je zelf de grenzen van de intervallen bepalen, waardoor voor deze methode gekozen wordt.</p>
<p>Download het bestand, zet de kolom met leeftijden om naar een Excel tabel en geef deze een zinvolle tabelnaam, bijvoorbeeld <code>Leeftijden</code>, waardoor je deze naam in de formules kunt gebruiken. Maak een kolom <code>bins</code> met de intervalgrenzen (15, 25, 45, 65). Maak tevens een kolom <code>leeftijdsgroep</code> met de namen van de categorieën. Er moet tevens een kolom komen voor de aantallen en de percentages. De inrichting van het werkblad zou er dan als volgt uit kunnen zien.</p>
<div class="figure" style="text-align: center">
<span id="fig:rokers-werkblad"></span>
<img src="images/eda/rokers-werkblad.png" alt="Inrichting werkblad" width="50%"><p class="caption">
Figuur 4.3: Inrichting werkblad
</p>
</div>
<p>Selecteer cel E2 en voer hier in de formule <code>=INTERVAL(leeftijden;C2:C5)</code>. Dit is een dynamische matixformule en de resultaten verschijnen in het <em>overloopgebied</em> E2:E6.</p>
<p>Voor de berekening van de percentages moet er een verwijzing naar het overloopgebied gemaakt, dat doe je door het hash symbool <em>#</em> achter het adres van de eerste cel te plaatsen. Typ nu in cel F2 de formule <code>=E2#/SOM(E2#)</code>.</p>
<blockquote>
<p><em>In plaats van het intypen van het adres van het overloopgebied kun je bij het invoeren van de formule ook het overloopgebied selecteren. Excel plaatst dan automatisch het juiste adres.</em></p>
</blockquote>
<div class="figure" style="text-align: center">
<span id="fig:rokers-frequenties"></span>
<img src="images/eda/rokers-frequenties.png" alt="Absolute en relatieve frequenties, berekend met de formule INTERVAL." width="50%"><p class="caption">
Figuur 4.4: Absolute en relatieve frequenties, berekend met de formule INTERVAL.
</p>
</div>
<p>Maak nu een cirkeldiagram en een kolomdiagram voor een visualisatie van de frequentieverdeling. In figuur <a href="eda.html#fig:rokers-diagrammen">4.5</a> zie je een voorbeeld.</p>
<div class="figure" style="text-align: center">
<span id="fig:rokers-diagrammen"></span>
<img src="images/eda/rokers-cirkeldiagram.png" alt="Cirkeldiagram en kolomdiagram" width="50%"><img src="images/eda/rokers-kolomdiagram.png" alt="Cirkeldiagram en kolomdiagram" width="50%"><p class="caption">
Figuur 4.5: Cirkeldiagram en kolomdiagram
</p>
</div>
</div>
</div>
<div id="twee-categoriale-variabelen" class="section level3" number="4.4.2">
<h3>
<span class="header-section-number">4.4.2</span> Twee categoriale variabelen<a class="anchor" aria-label="anchor" href="#twee-categoriale-variabelen"><i class="fas fa-link"></i></a>
</h3>
<p>Bij twee categoriale variabelen gaat het om de verdeling van de ene variabele over de niveaus van de andere variabele.</p>
<p><strong>Oplossingen</strong></p>
<ul>
<li>
<em>Kruistabellen</em> - Deze bevatten de frequenties voor elke combinatie van waarden over twee categorische variabelen.</li>
<li>
<em>Gegroepeerde staafdiagrammen</em> - Een van de twee categorische variabelen wordt als groep behandeld. Binnen elke groep worden staven voor de andere categorische variabele gemaakt.</li>
</ul>
<div class="workedexample">
<p>van een groep van 90 mannen en vrouwen is de haarkleur genoteerd. De verzamelde gegevens staan in het bestand <a href="data/haarkleur.xlsx">haarkleur.xlsx</a>. Een onderzoeksvraag is of de verdeling van de kleuren sterk verschilt tussen mannen en vrouwen.</p>
<p>Je moet dan voor elke kleur tellen hoe vaak deze bij mannen en bij vrouwen voorkomt. Hiervoor moet je een kruistabel maken en voor een visualisatie van de verdeling leent zich een gegroepeerd kolomdiagram het beste. In Excel kun je daarvoor een draaigrafiek met draaitabel gebruiken.</p>
<p>Download het bestand, zet de kolom met gegevens om naar een Excel tabel en geef deze een zinvolle tabelnaam, bijvoorbeeld <code>Haarkleuren</code>. Selecteer een cel in de tabel en kies <em>Invoegen &gt; Draaigrafiek &gt; Draaigrafiek en draaitabel</em>. Neem een nieuw werkblad als locatie voor de uitvoer. Sleep het veld <code>geslacht</code> naar de <code>Rijen</code>, het veld <code>haarkleur</code> naar de <code>Kolommen</code> en het veld <code>id</code> naar de <code>Waarden</code>. Wijzig de <em>Waardeveldinstellingen</em> in <em>Aantal</em> in plaats van Som. Omdat je de verdeling van de kleuren per geslacht wilt bestuderen wijzig je via <em>Waardeveldinstellingen</em> de weergave in <em>% van rijtotaal</em>.</p>
<p>Verder kun je het kolomdiagram nog wat aanpassen door weergave van titel en datalabels, aanpassing van de kleuren en het verbergen van alle veldknoppen. Ook is de weergave van de kolomtotalen in de draaitabel niet zinvol en kun beter niet weergeven. Het resultaat is in de figuur <a href="eda.html#fig:haarkleur-resultaat">4.6</a> te zien.</p>
<div class="figure" style="text-align: center">
<span id="fig:haarkleur-resultaat"></span>
<img src="images/eda/haarkleur-kruistabel.png" alt="Kruistabel en kolomdiagram voor verdeling haarkleur per geslacht." width="50%"><img src="images/eda/haarkleur-kolomdiagram.png" alt="Kruistabel en kolomdiagram voor verdeling haarkleur per geslacht." width="50%"><p class="caption">
Figuur 4.6: Kruistabel en kolomdiagram voor verdeling haarkleur per geslacht.
</p>
</div>
</div>
</div>
<div id="eén-numerieke-variabele" class="section level3" number="4.4.3">
<h3>
<span class="header-section-number">4.4.3</span> Eén numerieke variabele<a class="anchor" aria-label="anchor" href="#e%C3%A9n-numerieke-variabele"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Oplossingen</strong></p>
<ul>
<li>
<em>Statistieken</em> - Zoals gemiddelde, mediaan, standaarddeviatie, interkwartielafstand, 5-getallensamenvatting, … (zie hoofdstuk <a href="beschrijvend.html#beschrijvend">3</a>).</li>
<li>
<em>Histogram</em> - Voor een visualisatie van de verdeling van de variabele en de vorm van de verdeling.</li>
<li>
<em>Boxplot</em> - Voor een visualisatie van de 5-getallensamenvatting.</li>
</ul>
<div class="workedexample">
<p>Bij een steekproef van 715 personen is o.a. het netto maandinkomen verzameld. Deze inkomens staan in het bestand <a href="data/maandinkomen.xlsx">maandinkomen.xlsx</a>. Je wilt een eerste indruk krijgen van de verdeling van de inkomens.</p>
<p>Download het bestand, zet de kolom met gegevens om naar een Excel tabel en geef deze een zinvolle tabelnaam, bijvoorbeeld <code>Maandinkomens</code>. Selecteer een cel in de tabel en kies <em>Gegevens &gt; Gegevensanalyse &gt; Beschrijvende statistiek</em>. Specificeer het invoerbereik en selecteer bij Uitvoeropties dat er een Samenvattingsinfo op een nieuw werkblad gemaakt moet worden.</p>
<p>De berekende getallen bevatten veel decimalen die hier en in dit stadium weinig betekenis hebben en zorgen alleen maar voor een chaotisch beeld. Maak Kurtosis en Scheefheid met 2 decimalen op en alle andere waarden als gehele getallen. Zie figuur <a href="eda.html#fig:maandinkomen-statistieken">4.7</a>.</p>
<div class="figure" style="text-align: center">
<span id="fig:maandinkomen-statistieken"></span>
<img src="images/eda/maandinkomen-statistieken.png" alt="Statistieken van de maandinkomens" width="30%"><p class="caption">
Figuur 4.7: Statistieken van de maandinkomens
</p>
</div>
<p>De kwartielen kun je zichtbaar maken met een boxplot. Selecteer een cel in de tabel en kies <em>Invoegen &gt; Aanbevolen grafieken &gt; Alle grafieken &gt; Box-and-whisker</em>. Pas deze wat aan. Geef in ieder geval de gegevenslabels weer. In figuur <a href="eda.html#fig:maandinkomen-statistieken">4.7</a> is een voorbeeld te zien.</p>
<div class="figure" style="text-align: center">
<span id="fig:maandinkomen-boxplot"></span>
<img src="images/eda/maandinkomen-boxplot.png" alt="Boxplot van de maandinkomens." width="60%"><p class="caption">
Figuur 4.8: Boxplot van de maandinkomens.
</p>
</div>
<p>Voor een histogram selecteer je een cel in de tabel en kies <em>Invoegen &gt; Aanbevolen grafieken &gt; Alle grafieken &gt; Histogram</em>. Het histogram is op zich in orde en geeft ook wel een goede indruk van de verdeling. Echter de automatisch gegenereerde bins hebben weinig zinvolle grenzen. Experimenteer daarom eens met een Bin-breedte van 250 en 500. Dat kan als volgt: <em>Selecteer horizontale as &gt; As opmaken &gt; Opties voor as &gt; Bin-breedte</em>. Voor de resultaten zie figuur <a href="eda.html#fig:maandinkomen-histogram">4.9</a>.</p>
<div class="figure" style="text-align: center">
<span id="fig:maandinkomen-histogram"></span>
<img src="images/eda/maandinkomen-histogram250.png" alt="Histogrammen, links met een breedte van 250 en rechts 500." width="50%"><img src="images/eda/maandinkomen-histogram500.png" alt="Histogrammen, links met een breedte van 250 en rechts 500." width="50%"><p class="caption">
Figuur 4.9: Histogrammen, links met een breedte van 250 en rechts 500.
</p>
</div>
<p>Uit de statistieken, boxplot en histogrammen krijg je een behoorlijke indruk van de verdeling.</p>
</div>
</div>
<div id="numerieke-en-categoriale-variabele" class="section level3" number="4.4.4">
<h3>
<span class="header-section-number">4.4.4</span> Numerieke en categoriale variabele<a class="anchor" aria-label="anchor" href="#numerieke-en-categoriale-variabele"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Oplossingen</strong></p>
<ul>
<li>
<em>Boxplot (gegroepeerd)</em> - Voor het vergelijken van een variabele tusssen verschillende groepen.</li>
</ul>
<div class="workedexample">
<p>Bij een vergelijkend onderzoek van een lamptype van twee verschillende merken is ook de levensduur van de lamp getest. In het bestand <a href="data/lampen.xlsx">lampen.xlsx</a> zijn de waarnemingen verzameld. De onderzoeksvraag is of er een substantieel verschil in levensduur is tussen de twee merken.</p>
<p>Download het bestand, zet de kolom met gegevens om naar een Excel tabel en geef deze een zinvolle tabelnaam, bijvoorbeeld <code>Lampen</code>. Selecteer een cel in de tabel en kies <em>Invoegen &gt; Aanbevolen grafieken &gt; Alle grafieken &gt; Box-and-whisker</em>. Pas deze wat aan. Geef in ieder geval de gegevenslabels weer. In figuur <a href="eda.html#fig:lampen-boxplot">4.10</a> is een voorbeeld te zien.</p>
<div class="figure" style="text-align: center">
<span id="fig:lampen-boxplot"></span>
<img src="images/eda/lampen-boxplot.png" alt="Boxplot voor vergelijking levensduur lamptype van 2 merken." width="100%"><p class="caption">
Figuur 4.10: Boxplot voor vergelijking levensduur lamptype van 2 merken.
</p>
</div>
</div>
</div>
<div id="twee-numerieke-variabelen" class="section level3" number="4.4.5">
<h3>
<span class="header-section-number">4.4.5</span> Twee numerieke variabelen<a class="anchor" aria-label="anchor" href="#twee-numerieke-variabelen"><i class="fas fa-link"></i></a>
</h3>
<p>Bij het vergelijken van twee numerieke variabelen is er meestal eerst al naar elke variabele afzonderlijk gekeken. Bij de onderlinge vergelijking gaat het om te onderzoeken of er een mogelijk verband tussen de twee variabelen bestaat.</p>
<p>Bij het onderzoek naar de relatie tussen twee numerieke variabelen worden de variabelen in een grafiek tegen elkaar uitgezet. Hierna kan eventueel een vervolgonderzoek komen naar de aard van de relatie. In hoofdstuk <a href="linregressie.html#linregressie">5</a> wordt op dit laatste verder ingegaan.</p>
<p><strong>Oplossingen</strong></p>
<ul>
<li>
<em>Spreidingsdiagram</em> - Voor het onderzoeken van een verband tussen twee numerieke variabelen.</li>
<li>
<em>Lijndiagram</em> - Gebruik je voornamelijk wanneer een van de numerieke variabelen een tijd weergeeft.</li>
</ul>
<div class="workedexample">
<p>Een ijsverkoper heeft gedurende 14 opeenvolgende dagen de dagtemperatuur en de dagelijkse verkoop aan ijs bijgehouden. De gegevens zijn te zien in figuur <a href="eda.html#fig:ijsverkoop-data">4.11</a> en te downloaden met het bestand <a href="data/ijsverkoop.xlsx">ijsverkoop.xlsx</a>.</p>
<div class="figure" style="text-align: center">
<span id="fig:ijsverkoop-data"></span>
<img src="images/eda/ijsverkoop-data.png" alt="Temperatuur (gemeten om 13:00 uur) en ijsverkoop gedurende 14 dagen" width="30%"><p class="caption">
Figuur 4.11: Temperatuur (gemeten om 13:00 uur) en ijsverkoop gedurende 14 dagen
</p>
</div>
<p>De vragen zijn: Hoe ziet het temperatuurverloop eruit en is er een verband tussen de ijsverkoop en de dagtemperatuur?</p>
<p>Voor het bekijken van het temperatuurverloop maak je een lijndiagram met de variabele <code>dag</code> op de X-as en de variabele <code>temperatuur</code> op de Y-as. Voor het beoordelen van een mogelijk verband tussen verkoop en temperatuur maak je een spreidingsdiagram met de variabele <code>temperatuur</code> als onafhankelijke variabele op de X-as en de variabele <code>ijsverkoop</code> op de Y-as. Voor de resultaten zie figuur <a href="eda.html#fig:ijsverkoop-diagrammen">4.12</a></p>
<div class="figure" style="text-align: center">
<span id="fig:ijsverkoop-diagrammen"></span>
<img src="images/eda/ijsverkoop-lijndiagram.png" alt="Lijndiagram (links) en spreidingsdiagram (rechts)." width="50%"><img src="images/eda/ijsverkoop-spreidingsdiagram.png" alt="Lijndiagram (links) en spreidingsdiagram (rechts)." width="50%"><p class="caption">
Figuur 4.12: Lijndiagram (links) en spreidingsdiagram (rechts).
</p>
</div>
<p>In het spreidingsdiagram is een duidelijk positief verband te zien. Voldoende reden voor een vervolgvraag of dit een lineair verband en zoja hoe een regressiemodel eruit zou kunnen zien.</p>
</div>
</div>
</div>
<div id="analyse-old-faithful-geiser" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Analyse Old Faithful geiser<a class="anchor" aria-label="anchor" href="#analyse-old-faithful-geiser"><i class="fas fa-link"></i></a>
</h2>
<div class="figure" style="text-align: center">
<span id="fig:ff-geiserfoto"></span>
<img src="images/eda/ff-geiserfoto.jpg" alt="Old Faithful geiser (bron: Detroit Free Press)" width="50%"><p class="caption">
Figuur 4.13: Old Faithful geiser (bron: Detroit Free Press)
</p>
</div>
<!-- Foto: https://www.gannett-cdn.com/presto/2019/09/16/USAT/26c3dfd5-ac5c-4cd9-9d22-f63dc3668aed-XXX_ras_017.JPG?crop=3023,1701,x0,y153&width=3200&height=1680&fit=bounds -->
<!-- Inspiratiebron: https://www.tudelft.nl/ewi/studeren/online-onderwijs/wiskunde-uitgelegd/statistiek#c144704 -->
<p>De Old Faithful geiser in Yellowstone National Park (Wyoming, VS) heeft meerdere erupties per dag. De dataset <a href="data/faithful.csv">faithful.csv</a> bevat 272 waarnemingen van twee variabelen: <code>eruptietijd</code> (tijdsduur van de uitbarsting in sec.) en <code>wachttijd</code> (wachttijd tussen twee erupties in min.).</p>
<div class="guidedpractice">
<p>Laad de data via Power Query in Excel. Kies hiervoor <em>Gegevens &gt; Van het web &gt; URL intypen &gt; Laden</em>.</p>
</div>
<p>De variabelen <code>eruptietijd</code> en <code>wachttijd</code> worden eerst afzonderlijk bekeken, daarna gecombineerd.</p>
<div id="eruptietijd" class="section level3" number="4.5.1">
<h3>
<span class="header-section-number">4.5.1</span> Eruptietijd<a class="anchor" aria-label="anchor" href="#eruptietijd"><i class="fas fa-link"></i></a>
</h3>
<div class="guidedpractice">
<p>Maak eerst via <em>Gegevens &gt; Gegevensanalyse &gt; Beschrijvende statistiek</em> samenvattingen voor de variabele <code>eruptietijd</code>. Laat de uitvoer in een nieuw werkblad plaatsen.</p>
<div class="figure" style="text-align: center">
<span id="fig:ff-et-statistieken"></span>
<img src="images/eda/ff-et-statistieken.png" alt="Samenvattende statistieken variabele `eruptietijd`." width="30%"><p class="caption">
Figuur 4.14: Samenvattende statistieken variabele <code>eruptietijd</code>.
</p>
</div>
<p>Maak nu een boxplot voor deze variabele via <em>Invoegen &gt; Aanbevolen grafieken &gt; Alle grafieken &gt; Box-and-whisker</em>.</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:ff-et-boxplot"></span>
<img src="images/eda/ff-et-boxplot.png" alt="Boxplot variabele `eruptietijd`." width="70%"><p class="caption">
Figuur 4.15: Boxplot variabele <code>eruptietijd</code>.
</p>
</div>
<p>In de boxplot kun je goed zien dat de data asymmetrisch is. De mediaan (240) ligt niet in het midden van de box, maar is groter dan het gemiddelde (209). Ook licht ook veel dichter bij de maximumwaarde (306) dan bij de minimumwaarde (96). De verdeling is links scheef.</p>
<p>Geologische experts geloven dat er twee soorten uitbarstingen voorkomen: met een kortere en met een langere tijdsduur, die beiden een standaardlengte hebben. Rond deze waarden zou je een hogere concentratie van waargenomen lengtes verwachten. Voor het bekijken van de verdeling van de waarden van variabele <code>eruptietijd</code> maak je een histogram met een geschikte <em>Bin-breedte</em>. Om met de Bin-breedte te kunnen experimenteren moet je in Excel een histogram maken via het invoegen van het grafiektype.</p>
<div class="guidedpractice">
<p>Maak een histogram van de eruptietijden via <em>Invoegen &gt; Aanbevolen grafieken &gt; Alle grafieken &gt; Histogram</em>.</p>
<p>Experimenteer met Bin-breedtes van 2 sec., 5 sec., 10 sec., 15 sec., 30 sec. en 50 sec. Hiervoor selecteer je eerst de X-as en kies daarna <em>As opmaken &gt; Bin-breedte &gt; breedte invullen</em>. Het venster met opties moet je meestal wat breder maken om de bin-breedte in te kunnen vullen!</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:ff-et-histogram"></span>
<img src="images/eda/ff-et-histogram37.png" alt="Histogram variabele `eruptietijd`. Links het standaarddiagram met een binbreedte van 37. Het histogram rechts heeft een bin-breedte van 15`." width="50%"><img src="images/eda/ff-et-histogram15.png" alt="Histogram variabele `eruptietijd`. Links het standaarddiagram met een binbreedte van 37. Het histogram rechts heeft een bin-breedte van 15`." width="50%"><p class="caption">
Figuur 4.16: Histogram variabele <code>eruptietijd</code>. Links het standaarddiagram met een binbreedte van 37. Het histogram rechts heeft een bin-breedte van 15`.
</p>
</div>
<p>Bij wijziging van de Bin-breedte zie je de vorm van het histogram veranderen en ook de hoeveelheid informatie die je hieruit af kunt lezen. De zeer kleine bin-breedtes geven een wat rommeliger figuur en je ziet teveel details. Bij de grootste bin-breedte is alle informatie uit het histogram verdwenen en kun je de twee pieken niet meer waarnemen. Het is een kwestie van proberen en ervaring om een goede breedte te vinden.</p>
<p>Een bin-breedte van 15 lijkt hier redelijk geschikt. Het is niet goed mogelijk om de twee piekmomenten precies af te lezen. Wel kun je zien dat de eerste piek in het interval [111, 126] ligt en de tweede piek in het interval [261, 276].</p>
<div class="tip">
<p>Bij theoretische verdelingen zoals de normale verdeling, kun je <em>kansdichtheidsdiagrammen</em> maken waardoor je veel meer details in de verdeling kunt zien. Helaas lijkt de verdeling van de eruptietijden niet op een van de bekende verdelingsfuncties. Voor dergelijke situaties kun je als een goed alternatief een zogenaamde <em>Kernel dichtheidschattingsdiagram</em> maken, maar helaas wordt dit grafiektype niet door Excel aangeboden. Veel statistische add-ins ondersteunen dit grafiektype wel.</p>
<div class="figure" style="text-align: center">
<span id="fig:ff-et-kde"></span>
<img src="images/eda/ff-et-kde.png" alt="Kernel dichtheidschatting, gemaakt met de addin van Real Statistics. De twee pieken komen hier duidelijker naar voren." width="60%"><p class="caption">
Figuur 4.17: Kernel dichtheidschatting, gemaakt met de addin van Real Statistics. De twee pieken komen hier duidelijker naar voren.
</p>
</div>
</div>
<p>Een redelijk alternatief is een diagram met een cumulatieve empirische verdeling. Excel biedt deze mogelijkheid aan via de histogramopties van Gegevensanalyse. Normaliter moet je hiervoor eerst zelf een kolommetje bins maken met de intervalgrenzen, maar wanneer je dat niet doet en dus de bins niet specificeert, dan worden er bins gemaakt die waarschijnlijk wat minder optimaal zijn. Voor een eerste verkenning is dat geen probleem.</p>
<div class="guidedpractice">
<p>Maak nu opnieuw een histogram, maar nu via <em>Gegevens -&gt; Gegevensanalyse -&gt; Histogram</em>. Specificeer voor het invoerbereik de kolom met gegevens. Laat het Verzamelbereik leeg. Wanneer de eerste rij in het invoerbereik zit moet je ook <em>Labels</em> aanvinken. Selecteer bij de uitvoeropties <em>Cumulatief percentage</em> en <em>Grafiek maken</em>.</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:ff-ecdf"></span>
<img src="images/eda/ff-ecdf.png" alt="Histogram met cumulatief percentages." width="60%"><p class="caption">
Figuur 4.18: Histogram met cumulatief percentages.
</p>
</div>
<p>De procedure heeft hier een bin-breedte van 13,5 genomen, deze geeft net wat meer details dan bij de bin-breedte van 15. In de lijn voor de cumulatieve percentages zie je steilere hellingen aan de linkerkant van de piekmomenten die zo rond 120 sec. en 270 sec. liggen</p>
</div>
<div id="wachttijd" class="section level3" number="4.5.2">
<h3>
<span class="header-section-number">4.5.2</span> Wachttijd<a class="anchor" aria-label="anchor" href="#wachttijd"><i class="fas fa-link"></i></a>
</h3>
<p>Voer gelijke opdrachten uit voor de variabele <code>wachttijd</code>. De statistieken en boxplot zijn in figuur <a href="eda.html#fig:ff-wt-statistieken">4.19</a></p>
<div class="figure" style="text-align: center">
<span id="fig:ff-wt-statistieken"></span>
<img src="images/eda/ff-wt-statistieken.png" alt="Samenvattende statistieken variabele `wachttijd`." width="30%"><p class="caption">
Figuur 4.19: Samenvattende statistieken variabele <code>wachttijd</code>.
</p>
</div>
<div class="figure" style="text-align: center">
<span id="fig:ff-wt-boxplot"></span>
<img src="images/eda/ff-wt-boxplot.png" alt="oxplot variabele `wachttijd`." width="70%"><p class="caption">
Figuur 4.20: oxplot variabele <code>wachttijd</code>.
</p>
</div>
<p>Voor een geschikte bin-breedte van het histogram moet je ook wat experimenteren. het waardenbereik loopt van 43-96 (minimum-maximum), een breedte van 53.</p>
<div class="figure" style="text-align: center">
<span id="fig:ff-wt-histogram"></span>
<img src="images/eda/ff-wt-histogram4.png" alt="Histogram variabele `wachttijd` met een bin-breedte van 4." width="70%"><p class="caption">
Figuur 4.21: Histogram variabele <code>wachttijd</code> met een bin-breedte van 4.
</p>
</div>
<p>Het overall beeld is gelijk aan dat van de eruptietijden: een links scheve verdeling. Ook hier twee pieken die in de buurt van 55 min. en 80 min. liggen.</p>
</div>
<div id="eruptietijd---wachttijd" class="section level3" number="4.5.3">
<h3>
<span class="header-section-number">4.5.3</span> Eruptietijd - Wachttijd<a class="anchor" aria-label="anchor" href="#eruptietijd---wachttijd"><i class="fas fa-link"></i></a>
</h3>
<p>Voor het bekijken van een verband tussen de twee variabelen maak je een spereidingsdiagram.</p>
<div class="figure" style="text-align: center">
<span id="fig:ff-spreidingsdiagram"></span>
<img src="images/eda/ff-spreidingsdiagram.png" alt="Spreidingsdiagram eruptietijd - wachttijd" width="70%"><p class="caption">
Figuur 4.22: Spreidingsdiagram eruptietijd - wachttijd
</p>
</div>
<p>Je zie hier twee ellipsvormige clusters van punten die overeenkomen met waarnemingen in de buurt waar de twee laagste waarden van de pieken en de twee hoogste waarden van de pieken (270,80) samenkomen. Op het oog is een scheidingsgrens tussen deze twee clusters een eruptietijd van 180 sec. (3 minuten).</p>
<p>Om hier betekenis aan toe te kennen en/of vervolgvragen te formuleren is, zoals meestal, meer deskundigheid nodig over de context van het onderzoek.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="beschrijvend.html"><span class="header-section-number">3</span> Beschrijvende statistiek</a></div>
<div class="next"><a href="linregressie.html"><span class="header-section-number">5</span> Samenhang en lineaire regressie</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#eda"><span class="header-section-number">4</span> Exploratieve Data Analyse (EDA)</a></li>
<li><a class="nav-link" href="#introductie"><span class="header-section-number">4.1</span> Introductie</a></li>
<li><a class="nav-link" href="#anscombe-dataset"><span class="header-section-number">4.2</span> Anscombe dataset</a></li>
<li><a class="nav-link" href="#werkwijze"><span class="header-section-number">4.3</span> Werkwijze</a></li>
<li>
<a class="nav-link" href="#keuze-hulpmiddelen"><span class="header-section-number">4.4</span> Keuze hulpmiddelen</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#e%C3%A9n-categorie-variabele"><span class="header-section-number">4.4.1</span> Eén categorie variabele</a></li>
<li><a class="nav-link" href="#twee-categoriale-variabelen"><span class="header-section-number">4.4.2</span> Twee categoriale variabelen</a></li>
<li><a class="nav-link" href="#e%C3%A9n-numerieke-variabele"><span class="header-section-number">4.4.3</span> Eén numerieke variabele</a></li>
<li><a class="nav-link" href="#numerieke-en-categoriale-variabele"><span class="header-section-number">4.4.4</span> Numerieke en categoriale variabele</a></li>
<li><a class="nav-link" href="#twee-numerieke-variabelen"><span class="header-section-number">4.4.5</span> Twee numerieke variabelen</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#analyse-old-faithful-geiser"><span class="header-section-number">4.5</span> Analyse Old Faithful geiser</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#eruptietijd"><span class="header-section-number">4.5.1</span> Eruptietijd</a></li>
<li><a class="nav-link" href="#wachttijd"><span class="header-section-number">4.5.2</span> Wachttijd</a></li>
<li><a class="nav-link" href="#eruptietijd---wachttijd"><span class="header-section-number">4.5.3</span> Eruptietijd - Wachttijd</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Excel Data Analyse</strong>" was written by Ben Welman. It was last built on 15 juli 2021.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
